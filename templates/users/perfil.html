{% extends 'base/base.html' %}

{% load static %}
{% load crispy_forms_tags %}
{% block title %}
    <link rel="icon" type="image/png" sizes="192x192" href="{% static 'dist/img/LogoSGT.png' %}">
    <title>{{ perfil.usuario.first_name }}</title>
{% endblock %}
{% block main %}
    <br>    <br>    <br>
    {% block form %}
        <div class="container">

            <div class="row justify-content-md-center">
                <div class="col-6 p-4" id="profile-box">
                    <form method="POST" action="{% url 'usuario:perfil' %}">
                        {% csrf_token %}

                        {% if form.errors %}
                            <p>{{ form.errors }}</p>
                        {% endif %}

                        <div class="media">

                            <img src="" class="rounded-circle" height="50"/>
                            <br> <br>
                            <img src="{% static 'dist/img/avatar1.jpg' %}" class="rounded-circle" height="50"/>


                            <div class="media-body">
                                <h5 class="ml-4"></h5>
                                <p class="ml-4"><input type="file" name="picture"></p>
                            </div>
                        </div>

                        <br>
                        <div class="alert alert-danger">
                            <b>Picture: </b>{{ error }}
                        </div>


                        <hr>
                        <br>

                        <div class="form-group">

                            <div class="col-md-8 form-group">
                                <input class="form-control" type="text" value="{{ user.first_name }}" readonly
                                       onmousedown="return false">
                            </div>
                        </div>

                        <div class="col-md-8 form-group">
                            <label>Apellido</label>
                            <input class="form-control"
                                   readonly onmousedown="return false"
                                   name="apellido" id="apellido"
                                   maxlength="15"

                                   value="{{ user.last_name }}"
                                   onkeypress="return soloLetras(event)"
                                   type="text"/>
                        </div>

                        <div class="col-md-8 form-group">
                            <label>Email</label>
                            <input
                                    class="form-control"
                                    type="text"
                                    name="email"
                                    placeholder=""
                                    readonly onmousedown="return false"
                                    value="{{ user.email }}"/>
                        </div>

                        <div class="form-group">
                            <label>Telefono fijo </label>
                            <div class="col-md-6 form-group">
                                <input class="form-control"
                                       name="telefono_fijo" id="telefono_fijo"
                                       placeholder="Telefono fijo"
                                       onkeypress="return soloNumeros(event)"
                                       value=""
                                       type="text"/>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Cedula </label>
                            <div class="form-group" id="document-form">
                                <input class="form-control"
                                       id="cedula" name="cedula"
                                       maxlength="10"
                                       onkeypress="return soloNumeros(event)"
                                       placeholder="Documento de identidad"
                                       type="text"
                                       value="{{ perfil.cedula }}"/>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Celular </label>
                            <div class="form-group">
                                <input class="form-control"
                                       name="celular" id="celular"
                                       placeholder="Movil"
                                       maxlength="15" minlength="8"
                                       onkeypress="return soloNumeros(event)"
                                       value="{{ perfil.celular }}"
                                       type="tex"/>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Celular telemercadeo </label>
                            <div class="form-group">
                                <input class="form-control"
                                       name="celular_telemercadeo" id="celular_telemercadeo"
                                       maxlength="15" minlength="8"
                                       onkeypress="return soloNumeros(event)"
                                       placeholder="Movil telemercadeo"
                                       type="tex"
                                       value="{{ perfil.celular_telemercadeo }}"/>
                            </div>
                        </div>


                        {# Phone number field #}


                        <button type="submit" class="btn btn-success btn-block mt-5">Guardar cambios</button>
                        {% if errors %}
                            <p class="text-red">{{ errors }}</p>
                        {% endif %}
                    </form>
                    <div class="form-group">
                        <a class="btn success" href="{% url 'usuario:cambio' %}">Cambiar contrase√±a</a>
                    </div>
                </div>
            </div>
        </div>
    {% endblock %}
{% endblock %}